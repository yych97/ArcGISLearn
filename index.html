<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>map</title>
    <link rel="stylesheet" type="text/css" href="lib/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css"
          href="https://js.arcgis.com/4.8/esri/css/main.css">
    <link rel="stylesheet" type="text/css" href="css/map.css">
    <script type="text/javascript" src="lib/js/jquery.min.js"></script>
    <script type="text/javascript" src="lib/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="lib/js/vue.js"></script>
    <script type="text/javascript" src="lib/js/vue-router.js"></script>
    <script type="text/javascript" src="lib/js/echarts.simple.min.js"></script>
    <script src="https://js.arcgis.com/4.8/"></script>
</head>
<body>
<div id="app">
    <!--导航栏-->
    <nav class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <!--导航栏标题-->
            <div class="navbar-header">
                <router-link class="navbar-brand" to="/" href="#">诗意中国</router-link>
            </div>
            <!--导航栏主体-->
            <div>
                <!--下拉列表框导航栏元素-->
                <ul class="nav navbar-nav">
                    <!--图层控制下拉框-->
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            图层控制
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="#">普通地图
                                    <input v-model="base_layer" type="radio" class="pull-right" value="osm">
                                </a>
                            </li>
                            <li>
                                <a href="#">地形图
                                    <input v-model="base_layer" type="radio" class="pull-right" value="terrain">
                                </a>
                            </li>
                        </ul>
                    </li>
                    <!--地点下拉框-->
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            查看地点
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <router-link to="/place/103" href="#">长安</router-link>
                            </li>
                            <li>
                                <router-link to="/place/37" href="#">洛阳</router-link>
                            </li>
                            <li class="divider"></li>
                            <li>
                                <router-link to="/list/place" href="#">全部地点</router-link>
                            </li>
                        </ul>
                    </li>
                    <!--作者下拉框-->
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            查看作者
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <router-link to="/poet/23" href="#">李白</router-link>
                            </li>
                            <li>
                                <router-link to="/poet/1" href="#">白居易</router-link>
                            </li>
                            <li>
                                <router-link to="/poet/10" href="#">杜甫</router-link>
                            </li>
                            <li class="divider"></li>
                            <li>
                                <router-link to="/list/poet" href="#">全部作者</router-link>
                            </li>
                        </ul>
                    </li>
                    <!--诗人轨迹下拉框-->
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            诗人轨迹
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <router-link to="/poet/23" href="#">王维</router-link>
                            </li>
                            <li>
                                <router-link to="/poet/1" href="#">白居易</router-link>
                            </li>
                        </ul>
                    </li>
                    <!--热力图下拉框-->
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            热力图
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <router-link to="/heatMap/1" href="#">初唐</router-link>
                            </li>
                            <li>
                                <router-link to="/heatMap/2" href="#">盛唐</router-link>
                            </li>
                            <li>
                                <router-link to="/heatMap/3" href="#">中唐</router-link>
                            </li>
                            <li>
                                <router-link to="/heatMap/4" href="#">晚唐</router-link>
                            </li>
                            <li>
                                <router-link to="/heatMap/0" href="#">全部时期</router-link>
                            </li>
                            <li class="divider"></li>
                            <li>
                                <router-link to="/" href="#">退出热力图模式</router-link>
                            </li>
                        </ul>
                    </li>
                </ul>
                <!--登录导航栏元素-->
                <ul class="nav navbar-nav navbar-right" v-if="visitor.logined == false">
                    <li>
                        <a data-toggle="modal" data-target="#login" href="">登录</a>
                    </li>
                </ul>
                <ul class="nav navbar-nav navbar-right" v-else>
                    <li>
                        <a href="">Welcome {{visitor.username}}!</a>
                    </li>
                </ul>
                <!-- 登录模态窗 -->
                <div id="login" class="modal fade">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-body">
                                <button class="close" data-dismiss="modal">
                                    <span>&times;</span>
                                </button>
                            </div>
                            <div class="modal-title">
                                <h1 class="text-center">登录</h1>
                            </div>
                            <div class="modal-body">
                                <form class="form-group" action="">
                                    <div class="form-group">
                                        <label for="">用户名</label>
                                        <input class="form-control" type="text" placeholder="">
                                    </div>
                                    <div class="form-group">
                                        <label for="">密码</label>
                                        <input class="form-control" type="password" placeholder="">
                                    </div>
                                    <div class="text-right">
                                        <button class="btn btn-primary" type="submit">登录</button>
                                        <button class="btn btn-danger" data-dismiss="modal">取消</button>
                                    </div>
                                    <a href="" data-toggle="modal" data-dismiss="modal"
                                       data-target="#register">还没有账号？点我注册</a>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>
    <!--主体内容部分-->
    <div class="container container-map">
        <!--地图、侧边栏-->
        <div class="row row-map">
            <div id="map" class="col-md-9"></div>
            <div id="side" class="col-md-3">
                <router-view></router-view>
            </div>
        </div>
        <!--ESRI自定义地图图例-->
        <div id="infoDiv" class="esri-widget" style="height: 40px; width: 140px; text-align: center"
             v-if="period_layer != 'Empty'">
            <p style="padding-top: 11px; font-size: 18px">时期：{{period_layer}}</p>
        </div>
        <div id="infoDiv" style="visibility: hidden" v-else></div>
    </div>
</div>
</body>
<!--诗人介绍模板-->
<script type="text/x-template" id="poet-template">
    <div>
        <!--信息栏标题-->
        <div class="panel panel-title-custom">
            <h5 class="kaiti-25 text-center">作者简介{{ $route.params.id }}</h5>
        </div>
        <!-- poet-info -->
        <div class="panel">
            <div class="text-center">
                <span class="kaiti-25"><strong>{{poet.name}}</strong></span>
            </div>
            <div class="table-info">
                <table class="table cart-items light-inputs">
                    <tbody>
                    <tr>
                        <td><span class="kaiti-17">别称：</span>{{poet.biechen}}
                        </td>
                    </tr>
                    <tr>
                        <td><span class="kaiti-17">字号：</span>{{poet.hao}}
                        </td>
                    </tr>
                    <tr>
                        <td><span class="kaiti-17">出生日期：</span>{{poet.birth}}
                        </td>
                    </tr>
                    <tr>
                        <td><span class="kaiti-17">逝世日期：</span>{{poet.death}}
                        </td>
                    </tr>
                    <tr>
                        <td><span class="kaiti-17">出生地：</span>{{poet.home}}
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="pull-right">
                                <button class="btn-warning" @click="getInfoByPoetId()">
                                    <span class="kaiti-17">加入收藏</span>
                                </button>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <!--tab-panel-->
        <div class="panel">
            <ul class="nav nav-tabs">
                <li class="active"><a data-toggle="tab" href="#description-tab">简介</a></li>
                <li><a data-toggle="tab" href="#works-tab">作品</a></li>
                <li><a data-toggle="tab" href="#poet-reviews-tab">评论</a></li>
            </ul>

            <div class="tab-content">
                <!-- #description-tab -->
                <div id="description-tab" class="tab-pane fade in active">
                    <p v-for="description in poet.descriptions">{{description}}</p>
                </div>
                <!-- #works-tab -->
                <div id="works-tab" class="tab-pane fade">
                    <ul class="list-group-item" v-for="work in poet.works.items">
                        <li class="item">
                            <router-link v-bind:to="{name:poet.works.type, params:{id:work.id}}" href="#">{{work.name}}
                            </router-link>
                        </li>
                    </ul>
                </div>
                <!-- #reviews-tab -->
                <div id="poet-reviews-tab" class="tab-pane fade">
                    <div class="review clearfix" v-for="comment in poet.comments">
                        <ul class="meta list-unstyled">
                            <li class="name">{{comment.username}}</li>
                        </ul>
                        <div class="tab-pane fade in active">
                            <div>
                                <p>{{comment.content}}</p>
                            </div>
                        </div>
                    </div>
                    <div class="add-review">
                        <form>
                            <div class="form-group light-inputs">
                                <textarea rows="4" cols="40" placeholder="您想要添加的信息 ..." required></textarea>
                            </div>
                            <div class="table-info pull-right">
                                <button class="btn-warning">
                                    <span class="kaiti-17">提交</span>
                                </button>
                            </div>
                            <div class="clearfix"></div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</script>
<!--诗歌介绍模板-->
<script type="text/x-template" id="poem-template">
    <div>
        <div class="panel panel-title-custom">
            <h5 class="kaiti-25 text-center">诗词信息{{ $route.params.id }}</h5>
        </div>

        <div class="panel">
            <div class="text-center">
                <span class="kaiti-25"><strong>{{poem.title}}</strong></span>
            </div>
            <div class="table-info">
                <table class="table cart-items light-inputs">
                    <tbody>
                    <tr v-for="content_one in poem.content">
                        <td><span class="kaiti-17">{{content_one}}</span></td>
                    </tr>
                    <tr>
                        <td>
                            <div class="pull-right">
                                <button class="btn-warning" @click="getInfoByPoemId()">
                                    <span class="kaiti-17">加入收藏</span>
                                </button>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="panel">
            <ul class="nav nav-tabs">
                <li class="active"><a data-toggle="tab" href="#Introduction-tab">简介</a></li>
                <li><a data-toggle="tab" href="#translation-tab">翻译</a></li>
                <li><a data-toggle="tab" href="#poem-reviews-tab">评论</a></li>
            </ul>
            <div class="tab-content">
                <div id="Introduction-tab" class="tab-pane fade in active">
                    <table class="table cart-items light-inputs">
                        <tbody>
                        <tr>
                            <td><span class="kaiti-17">作者：</span>{{poem.author}}</td>
                        </tr>
                        <tr>
                            <td><span class="kaiti-17">题材：</span>{{poem.theme}}</td>
                        </tr>
                        <tr>
                            <td><span class="kaiti-17">文学体裁：</span>{{poem.style}}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div id="translation-tab" class="tab-pane fade">
                    <table class="table cart-items light-inputs">
                        <tbody>
                        <tr v-for="translation_one in poem.translation">
                            <td>{{translation_one}}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div id="poem-reviews-tab" class="tab-pane fade">
                    <div class="review clearfix" v-for="comment in poem.comments">
                        <ul class="meta list-unstyled">
                            <li class="name">{{comment.username}}</li>
                        </ul>
                        <div class="content">
                            <div>
                                <p>{{comment.content}}</p>
                            </div>
                        </div>
                    </div>
                    <div class="add-review">
                        <form>
                            <div class="form-group light-inputs">
                                <textarea rows="4" cols="40" placeholder="您想要添加的信息 ..." required></textarea>
                            </div>
                            <div class="table-info pull-right">
                                <button class="btn-warning">
                                    <span class="kaiti-17">提交</span>
                                </button>
                            </div>
                            <div class="clearfix"></div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</script>
<!--地点介绍模板-->
<script type="text/x-template" id="place-template">
    <div>
        <div class="panel panel-title-custom">
            <h5 class="kaiti-25 text-center">地点信息{{ $route.params.id }}</h5>
        </div>

        <div class="panel">
            <div class="text-center">
                <span class="kaiti-25"><strong>{{place.old_name}}</strong></span>
            </div>
            <div class="table-info">
                <table class="table cart-items light-inputs">
                    <tbody>
                    <tr>
                        <td><span class="kaiti-17">现地名：</span>{{place.new_name}}</td>
                    </tr>
                    <tr>
                        <td><span class="kaiti-17">经度：</span>{{place.longitude}}</td>
                    </tr>
                    <tr>
                        <td><span class="kaiti-17">纬度：</span>{{place.latitude}}</td>
                    </tr>
                    <tr>
                        <td>
                            <div class="pull-right">
                                <button class="btn-warning" @click="getInfoByPlaceId()">
                                    <span class="kaiti-17">加入收藏</span>
                                </button>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="panel">
            <ul class="nav nav-tabs">
                <li class="active"><a data-toggle="tab" href="#poet-tab">该地出生的诗人</a></li>
                <li><a data-toggle="tab" href="#poem-tab">创作在该地的诗歌</a></li>
            </ul>
            <div class="tab-content">
                <div id="poet-tab" class="tab-pane fade in active">
                    <ul class="list-group-item" v-for="poet in place.poets.items">
                        <li class="item">
                            <router-link v-bind:to="{name:place.poets.type, params:{id:poet.id}}" href="#">{{poet.name}}
                            </router-link>
                        </li>
                    </ul>
                </div>
                <div id="poem-tab" class="tab-pane fade">
                    <ul class="list-group-item" v-for="poem in place.poems.items">
                        <li class="item">
                            <router-link v-bind:to="{name:place.poems.type, params:{id:poem.id}}" href="#">{{poem.name}}
                            </router-link>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</script>
<!--列表模板-->
<script type="text/x-template" id="list-template">
    <div>
        <!--列表名称-->
        <div class="panel panel-title-custom">
            <h5 class="kaiti-25 text-center">{{ $route.params.type }}</h5>
        </div>
        <!--列表主体-->
        <div class="panel">
            <ul class="list-group-item" v-for="item in list.items">
                <li class="item">
                    <router-link v-bind:to="{name:list.type, params:{id:item.id}}" href="#">{{item.name}}</router-link>
                </li>
            </ul>
        </div>
    </div>
</script>
<!--热力图模板-->
<script type="text/x-template" id="heatMap-template">
    <div>
        <div class="panel panel-title-custom">
            <h5 class="kaiti-25 text-center">欢迎来到诗意中国</h5>
        </div>
    </div>
</script>
<!--统计图表模板-->
<script type="text/x-template" id="chart-template">
    <div>
        <div class="panel panel-title-custom">
            <h5 class="kaiti-25 text-center">欢迎来到诗意中国</h5>
        </div>
        <div class="panel">
            <div id="chart" style="width: 100%; height:250px;"></div>
        </div>
    </div>
</script>
<!--首页模板-->
<script type="text/x-template" id="home-template">
    <div>
        <div class="panel panel-title-custom">
            <h5 class="kaiti-25 text-center">欢迎来到诗意中国</h5>
        </div>
    </div>
</script>
<!--JS-->
<script type="text/javascript" src="js/testdata.js"></script>
<script type="text/javascript" src="js/api/test.js"></script>
<script type="text/javascript" src="js/map.js"></script>
<script type="text/javascript" src="js/chart.js"></script>
<script type="text/javascript" src="js/vue-map.js"></script>
</html>
