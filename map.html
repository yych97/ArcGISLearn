<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>map</title>
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css"
          href="http://101.132.125.165:8081/arcgis_js_api/library/4.7/esri/css/main.css">
    <link rel="stylesheet" type="text/css" href="css/map.css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/vue.js"></script>
    <script type="text/javascript" src="js/vue-router.js"></script>
    <script src="http://101.132.125.165:8081/arcgis_js_api/library/4.7/init.js"></script>
</head>
<body>
<div id="app">
    <nav class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="#">诗意中国</a>
            </div>
            <div>
                <ul class="nav navbar-nav">
                    <!--图层控制下拉框-->
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            图层控制
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="#">初唐
                                    <input name="time-layers" type="checkbox" class="pull-right" value="初唐">
                                </a>
                            </li>
                            <li>
                                <a href="#">盛唐
                                    <input name="time-layers" type="checkbox" class="pull-right" value="盛唐" checked>
                                </a>
                            </li>
                            <li>
                                <a href="#">中唐
                                    <input name="time-layers" type="checkbox" class="pull-right" value="中唐">
                                </a>
                            </li>
                            <li>
                                <a href="#">晚唐
                                    <input name="time-layers" type="checkbox" class="pull-right" value="晚唐">
                                </a>
                            </li>
                            <li class="divider"></li>
                            <li>
                                <a href="#">普通地图
                                    <input name="type-layers" type="checkbox" class="pull-right" value="路网图">
                                </a>
                                <a href="#">卫星图
                                    <input name="type-layers" type="checkbox" class="pull-right" value="卫星图">
                                </a>
                                <a href="#">地形图
                                    <input name="type-layers" type="checkbox" class="pull-right" value="地形图" checked>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <!--时期下拉框-->
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            时期
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="#">初唐
                                    <input name="time" type="checkbox" class="pull-right" value="初唐">
                                </a>
                            </li>
                            <li>
                                <a href="#">盛唐
                                    <input name="time" type="checkbox" class="pull-right" value="盛唐">
                                </a>
                            </li>
                            <li>
                                <a href="#">中唐
                                    <input name="time" type="checkbox" class="pull-right" value="中唐">
                                </a>
                            </li>
                            <li>
                                <a href="#">晚唐
                                    <input name="time" type="checkbox" class="pull-right" value="晚唐">
                                </a>
                            </li>
                            <li class="divider"></li>
                            <li>
                                <a href="#">全部
                                    <input name="all" type="checkbox" class="pull-right" value="全部">
                                </a>
                            </li>
                        </ul>
                    </li>
                    <!--地点下拉框-->
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            地点
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="#">长安</a></li>
                            <li><a href="#">洛阳</a></li>
                            <li class="divider"></li>
                            <li><a data-toggle="modal" data-target="#places" href="">全部地点</a></li>
                        </ul>
                    </li>
                    <!--作者下拉框-->
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            作者
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <router-link to="/poet/libai" href="#">李白</router-link>
                            </li>
                            <li>
                                <router-link to="/poet/baijuyi" href="#">白居易</router-link>
                            </li>
                            <li>
                                <router-link to="/poet/dufu" href="#">杜甫</router-link>
                            </li>
                            <li class="divider"></li>
                            <li><a data-toggle="modal" data-target="#poets" href="">全部作者</a></li>
                        </ul>
                    </li>
                    <!--分类下拉框-->
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            分类
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="#"></a></li>
                            <li><a href="#">诗名</a></li>
                            <li><a href="#">Jasper Report</a></li>
                            <li class="divider"></li>
                            <li><a href="#">分离的链接</a></li>
                            <li class="divider"></li>
                            <li><a href="#">另一个分离的链接</a></li>
                        </ul>
                    </li>
                </ul>
                <ul class="nav navbar-nav navbar-right" v-if="visitor.logined == false">
                    <li>
                        <a data-toggle="modal" data-target="#register" href="">注册</a>
                    </li>
                    <li>
                        <a data-toggle="modal" data-target="#login" href="">登录</a>
                    </li>
                </ul>
                <ul class="nav navbar-nav navbar-right" v-else>
                    <li>
                        <a href="">Welcome {{visitor.username}}!</a>
                    </li>
                </ul>
                <!-- 注册窗口 -->
                <div id="register" class="modal fade" tabindex="-1">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-body">
                                <button class="close" data-dismiss="modal">
                                    <span>&times;</span>
                                </button>
                            </div>
                            <div class="modal-title">
                                <h1 class="text-center">注册</h1>
                            </div>
                            <div class="modal-body">
                                <form class="form-group" action="">
                                    <div class="form-group">
                                        <label for="">用户名</label>
                                        <input class="form-control" type="text" placeholder="6-15位字母或数字">
                                    </div>
                                    <div class="form-group">
                                        <label for="">密码</label>
                                        <input class="form-control" type="password" placeholder="至少6位字母或数字">
                                    </div>
                                    <div class="form-group">
                                        <label for="">再次输入密码</label>
                                        <input class="form-control" type="password" placeholder="至少6位字母或数字">
                                    </div>
                                    <div class="form-group">
                                        <label for="">邮箱</label>
                                        <input class="form-control" type="email" placeholder="例如:123@123.com">
                                    </div>
                                    <div class="text-right">
                                        <button class="btn btn-primary" type="submit">提交</button>
                                        <button class="btn btn-danger" data-dismiss="modal">取消</button>
                                    </div>
                                    <a href="" data-toggle="modal" data-dismiss="modal"
                                       data-target="#login">已有账号？点我登录</a>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 登录窗口 -->
                <div id="login" class="modal fade">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-body">
                                <button class="close" data-dismiss="modal">
                                    <span>&times;</span>
                                </button>
                            </div>
                            <div class="modal-title">
                                <h1 class="text-center">登录</h1>
                            </div>
                            <div class="modal-body">
                                <form class="form-group" action="">
                                    <div class="form-group">
                                        <label for="">用户名</label>
                                        <input class="form-control" type="text" placeholder="">
                                    </div>
                                    <div class="form-group">
                                        <label for="">密码</label>
                                        <input class="form-control" type="password" placeholder="">
                                    </div>
                                    <div class="text-right">
                                        <button class="btn btn-primary" type="submit">登录</button>
                                        <button class="btn btn-danger" data-dismiss="modal">取消</button>
                                    </div>
                                    <a href="" data-toggle="modal" data-dismiss="modal"
                                       data-target="#register">还没有账号？点我注册</a>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 地点窗口 -->
                <div id="places" class="modal fade">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-body">
                                <button class="close" data-dismiss="modal">
                                    <span>&times;</span>
                                </button>
                            </div>
                            <div class="modal-title">
                                <h2 class="text-center">全部地点</h2>
                            </div>
                            <div class="modal-body">

                            </div>
                        </div>
                    </div>
                </div>
                <!-- 作者窗口 -->
                <div id="poets" class="modal fade">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-body">
                                <button class="close" data-dismiss="modal">
                                    <span>&times;</span>
                                </button>
                            </div>
                            <div class="modal-title">
                                <h2 class="text-center">全部作者</h2>
                            </div>
                            <div class="modal-body">

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <div class="container container-map">
        <div class="row row-map">
            <div id="map" class="col-md-9"></div>
            <div id="side" class="col-md-3">
                <router-view></router-view>
            </div>
        </div>
    </div>
</div>
</body>
<!--诗人介绍模板-->
<script type="text/x-template" id="poet-template">
    <div>
        <!--信息栏标题-->
        <div class="panel panel-title-custom">
            <div class="text-center">
                <h5 class="kaiti-25">作者简介{{ $route.params.id }}</h5>
            </div>
        </div>
        <!-- poet-info -->
        <div class="panel">
            <div class="text-center">
                <span class="kaiti-25"><strong>{{poet.name}}</strong></span>
            </div>
            <div class="table-info">
                <table class="table cart-items light-inputs">
                    <tbody>
                    <tr>
                        <td><span class="kaiti-17">别称：</span>{{poet.biechen}}
                        </td>
                    </tr>
                    <tr>
                        <td><span class="kaiti-17">字号：</span>{{poet.hao}}
                        </td>
                    </tr>
                    <tr>
                        <td><span class="kaiti-17">出生日期：</span>{{poet.birth}}
                        </td>
                    </tr>
                    <tr>
                        <td><span class="kaiti-17">逝世日期：</span>{{poet.death}}
                        </td>
                    </tr>
                    <tr>
                        <td><span class="kaiti-17">出生地：</span>{{poet.home}}
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="pull-right">
                                <button class="btn-warning" @click="getInfoByPoetId()">
                                    <span class="kaiti-17">加入收藏</span>
                                </button>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <!--tab-panel-->
        <div class="panel">
            <ul class="nav nav-tabs">
                <li class="active"><a data-toggle="tab" href="#description-tab">简介</a></li>
                <li><a data-toggle="tab" href="#works-tab">作品</a></li>
                <li><a data-toggle="tab" href="#poet-reviews-tab">评论</a></li>
            </ul>

            <div class="tab-content">
                <!-- #description-tab -->
                <div id="description-tab" class="tab-pane fade in active">
                    <p v-for="description in poet.descriptions">{{description}}</p>
                    <p><a v-bind:href="poet.baikeLink">更多信息</a></p>
                </div>
                <!-- #works-tab -->
                <div id="works-tab" class="tab-pane fade">
                    <ul class="list-group-item" v-for="work in poet.works">
                        <li class="item">
                            <router-link v-bind:to="{name:'poem',params:{id:work.titleId}}" href="#">{{work.title}}
                            </router-link>
                            <a class="pull-right" v-bind:href="poet.baikeLink">{{work.place}}</a>
                        </li>
                    </ul>
                </div>
                <!-- #reviews-tab -->
                <div id="poet-reviews-tab" class="tab-pane fade">
                    <div class="review clearfix" v-for="comment in poet.comments">
                        <ul class="meta list-unstyled">
                            <li class="name">{{comment.username}}</li>
                        </ul>
                        <div class="tab-pane fade in active">
                            <div>
                                <p>{{comment.content}}</p>
                            </div>
                        </div>
                    </div>
                    <div class="add-review">
                        <form>
                            <div class="form-group light-inputs">
                                <textarea rows="4" cols="40" placeholder="您想要添加的信息 ..." required></textarea>
                            </div>
                            <div class="table-info pull-right">
                                <button class="btn-warning">
                                    <span class="kaiti-17">提交</span>
                                </button>
                            </div>
                            <div class="clearfix"></div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</script>
<!--诗歌介绍模板-->
<script type="text/x-template" id="poem-template">
    <div>
        <div class="panel panel-title-custom">
            <div class="text-center">
                <h5 class="kaiti-25">诗词信息{{ $route.params.id }}</h5>
            </div>
        </div>

        <div class="panel">
            <div class="text-center">
                <span class="kaiti-25"><strong>{{poem.title}}</strong></span>
            </div>
            <div class="table-info">
                <table class="table cart-items light-inputs">
                    <tbody>
                    <tr>
                        <td><span class="kaiti-17">作者：</span>{{poem.author}}</td>
                    </tr>
                    <tr>
                        <td><span class="kaiti-17">题材：</span>{{poem.theme}}</td>
                    </tr>
                    <tr>
                        <td><span class="kaiti-17">文学体裁：</span>{{poem.style}}</td>
                    </tr>
                    <tr>
                        <td>
                            <div class="pull-right">
                                <button class="btn-warning" @click="getInfoByPoetId()">
                                    <span class="kaiti-17">加入收藏</span>
                                </button>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="panel">
            <ul class="nav nav-tabs">
                <li class="active"><a data-toggle="tab" href="#content-tab">原文&翻译</a></li>
                <li><a data-toggle="tab" href="#poem-reviews-tab">评论</a></li>
            </ul>
            <div class="tab-content">
                <div id="content-tab" class="tab-pane fade in active">
                    <p>故人西辞黄鹤楼，烟花三月下扬州</p>
                    <p>孤帆远影碧空尽，唯见长江天际流</p>
                    <p>友人在黄鹤楼向我挥手告别，阳光明媚的三月他要去扬州。</p>
                    <p>他的帆影渐渐消失在碧空中，只看见滚滚长江在天边奔流。</p>
                </div>
                <div id="poem-reviews-tab" class="tab-pane fade">
                    <div class="review clearfix" v-for="comment in poem.comments">
                        <ul class="meta list-unstyled">
                            <li class="name">{{comment.username}}</li>
                        </ul>
                        <div class="content">
                            <div>
                                <p>{{comment.content}}</p>
                            </div>
                        </div>
                    </div>
                    <div class="add-review">
                        <form>
                            <div class="form-group light-inputs">
                                <textarea rows="4" cols="40" placeholder="您想要添加的信息 ..." required></textarea>
                            </div>
                            <div class="table-info pull-right">
                                <button class="btn-warning">
                                    <span class="kaiti-17">提交</span>
                                </button>
                            </div>
                            <div class="clearfix"></div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</script>
<!--列表模板-->
<script type="text/x-template" id="list-template">
    <ul class="list-group-item" v-for="item in items">
        <li class="item">
            <router-link v-bind:to="{name:'poem',params:{id:item.id}}" href="#">{{item.name}}</router-link>
            <a class="pull-right" v-bind:href="poet.baikeLink">{{work.place}}</a>
        </li>
    </ul>
</script>
<!--JS-->
<script type="text/javascript" src="js/map.js"></script>
<script type="text/javascript" src="js/vue-map.js"></script>
</html>